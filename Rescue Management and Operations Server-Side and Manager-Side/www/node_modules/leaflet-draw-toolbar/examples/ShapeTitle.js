L.ShapeTitle = L.Toolbar2.Action.extend({
	options: {
		toolbarIcon: {}
	},

	initialize: function(map, shape, options) {
		this._map = map;
		this._shape = shape;

		L.setOptions(this, options);
		L.Toolbar2.Action.prototype.initialize.call(this, map, options);
	},

	addHooks: function() {
		this._shape.setPopupContent({ title: this.options.title }); 
		this.disable();
	},

	enable: function(toolbar, container, args) {
		this._map.on(this._link, 'click', function() {
			this._map.removeLayer(this.toolbar.parentToolbar);
		}, this);
	}
	
});